version: '3'

tasks:
  init:
    desc: Initiera nytt dbt-projekt
    dir: dbt
    cmds:
      - dbt init

  run:
    desc: Kör dbt-modeller
    dir: dbt
    cmds:
      - dbt run

  test:
    desc: Kör dbt-tester
    dir: dbt
    cmds:
      - dbt test

  build:
    desc: Kör dbt build (run + test)
    dir: dbt
    cmds:
      - dbt build

  docs:
    desc: Generera dbt-dokumentation
    dir: dbt
    cmds:
      - dbt docs generate
      - dbt docs serve

  deps:
    desc: Installera dbt-paket
    dir: dbt
    cmds:
      - dbt deps

  clean:
    desc: Rensa dbt-artefakter
    dir: dbt
    cmds:
      - dbt clean

  debug:
    desc: Testa dbt-anslutning
    dir: dbt
    cmds:
      - dbt debug
