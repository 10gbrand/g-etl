version: "3"

tasks:
  run:
    desc: Kör hela pipelinen (extract + transform)
    cmds:
      - uv run python -m g_etl.pipeline

  extract:
    desc: Kör bara extract (hämta data)
    cmds:
      - uv run python -m g_etl.pipeline --extract-only

  transform:
    desc: Kör bara transform (SQL-filer)
    cmds:
      - uv run python -m g_etl.pipeline --transform-only

  dataset:
    desc: Kör specifikt dataset (task pipeline:dataset -- naturreservat)
    cmds:
      - uv run python -m g_etl.pipeline --dataset {{.CLI_ARGS}}

  type:
    desc: Kör datasets av viss typ (task pipeline:type -- skogsstyrelsen_gpkg)
    cmds:
      - uv run python -m g_etl.pipeline --type {{.CLI_ARGS}}

  types:
    desc: Lista tillgängliga dataset-typer
    cmds:
      - uv run python -m g_etl.pipeline --list-types
